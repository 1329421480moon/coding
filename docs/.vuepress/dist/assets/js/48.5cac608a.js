(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{258:function(a,r,e){"use strict";e.r(r);var t=e(0),s=Object(t.a)({},function(){var a=this,r=a.$createElement,e=a._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"数组类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数组类型","aria-hidden":"true"}},[a._v("#")]),a._v(" 数组类型")]),a._v(" "),e("blockquote",[e("p",[a._v("创作不易，转载请注明出处： 后盾人 @ houdurnen.com")])]),a._v(" "),e("p",[a._v("数组是在程序设计中，为了处理方便， 把若干变量按有序的形式组织起来的一种形式。\n按数组键值类型的不同，数组又可分为数值索引数组、字符关联数组。")]),a._v(" "),e("h3",{attrs:{id:"基础知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础知识","aria-hidden":"true"}},[a._v("#")]),a._v(" 基础知识")]),a._v(" "),e("ul",[e("li",[a._v("所谓的数组下标可以视为资料内容在此数组中的识别名称，通常被称为数组下标。")]),a._v(" "),e("li",[a._v("当索引值为数值时，也代表此资料内容在数组中的储存位置。")]),a._v(" "),e("li",[a._v("数组中有几个索引值就被称为几维数组。")])]),a._v(" "),e("p",[e("strong",[a._v("数组分类")]),a._v("：")]),a._v(" "),e("p",[a._v("在PHP中有两种数组：索引数组和关联数组。")]),a._v(" "),e("ul",[e("li",[a._v("索引（indexed）数组的索引值是整数，以0开始。当通过位置来标识东西时用索引数组。")]),a._v(" "),e("li",[a._v("关联（associative）数组以字符串做为索引值，关联数组更像操作表。索引值为列名，用于访问列的数据")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr \t= [1,2,3] // 索引数组\n$users \t= ['name'=>'向军大叔','age'=>99]; //关联数组\n")])])]),e("p",[e("strong",[a._v("一维数组")])]),a._v(" "),e("p",[a._v("数组值为单个变量（非数组）时，为一维数组")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['name'=>'向军','url'=>'houdunren.com'];\n")])])]),e("p",[e("strong",[a._v("多维数组")])]),a._v(" "),e("p",[a._v("数组的值为数组时，这样的数组为多维数组，嵌套几层即几为数组")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n\t['name'=>'向军'],\n\t['name'=>'李四']\n];\n")])])]),e("p",[e("strong",[a._v("数组赋值")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = [];\n$arr[0] = '后盾人';\n$arr['url']=>'houdunren.com';\n")])])]),e("h3",{attrs:{id:"读取元素"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#读取元素","aria-hidden":"true"}},[a._v("#")]),a._v(" 读取元素")]),a._v(" "),e("p",[a._v("key — 从关联数组中取得键名")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['后盾人','HDCMS','向军大叔'];\necho key($arr); //返回0\n")])])]),e("p",[a._v("current — 返回数组中的当前单元")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['后盾人','HDCMS','向军大叔'];\necho current($arr); //返回 '后盾人'\n")])])]),e("p",[a._v("next — 将数组中的内部指针向下移动一位，并返回值。没有更多单元时返回 "),e("strong",[a._v("FALSE")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['后盾人','HDCMS','向军大叔'];\necho next($arr); //返回 'HDCMS'\n")])])]),e("p",[a._v("prev — 将数组的内部指针倒回一位，并返回值。没有更多单元时返回 "),e("strong",[a._v("FALSE")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['后盾人','HDCMS','向军大叔'];\nvar_dump(prev($arr)); //返回 FALSE\n")])])]),e("p",[e("strong",[a._v("指针遍历")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','age'=>16],\n    ['name'=>'小明','age'=>22],\n    ['name'=>'李四','age'=>34],\n    ['name'=>'张三','age'=>19],\n];\n?>\n<table border=\"1\">\n<tr><th>编号</th><th>姓名</th><th>年龄</th></tr>\n<?php while ($user = current($users)):?>\n<tr>\n\t<td><?php echo key($users)+1?></td>\n\t<td><?php echo $user['name']?></td>\n\t<td><?php echo $user['age']?></td>\n</tr>\n<?php  next($users); endwhile;?>\n</table>\n")])])]),e("h3",{attrs:{id:"遍历数组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#遍历数组","aria-hidden":"true"}},[a._v("#")]),a._v(" 遍历数组")]),a._v(" "),e("h4",{attrs:{id:"foreach"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#foreach","aria-hidden":"true"}},[a._v("#")]),a._v(" foreach")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','url'=>'aoxiangjun.com'],\n    ['name'=>'后盾人','url'=>'houdunren.com']\n];\nforeach ($users as $key=>$user) {\n    echo \"[{$key}] 姓名:{$user['name']} 网址:{$user['url']} <hr/>\";\n}\n")])])]),e("h4",{attrs:{id:"list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list","aria-hidden":"true"}},[a._v("#")]),a._v(" list")]),a._v(" "),e("p",[a._v("把数组中的值赋给一组变量")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['向军','hdcms'];\nlist($name, $soft) = $arr;\necho $soft;\n")])])]),e("p",[a._v("直接显示第三个")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$arr = ['向军','hdcms','houdunren.com'];\nlist(, , $web) = $arr;\necho $web;\n")])])]),e("p",[a._v("使用键名")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','age'=>16],\n    ['name'=>'小明','age'=>22],\n    ['name'=>'李四','age'=>34],\n    ['name'=>'张三','age'=>19],\n];\nwhile (list('name'=>$name, 'age'=>$age) = current($users)) {\n    echo \"name: {$name} <hr/>\";\n    next($users);\n}\n")])])]),e("h3",{attrs:{id:"常用函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用函数","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用函数")]),a._v(" "),e("p",[a._v("下面我们学习常用的数组操作函数，之后你就可以自行参考 "),e("a",{attrs:{href:"http://php.net/manual/zh/ref.array.php",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方手册"),e("OutboundLink")],1),a._v(" 掌握其他函数了。")]),a._v(" "),e("h4",{attrs:{id:"array-push"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-push","aria-hidden":"true"}},[a._v("#")]),a._v(" array_push")]),a._v(" "),e("p",[a._v("将一个或多个单元压入数组的末尾，这是传址操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users =['向军大叔','小明'];\narray_push($users, '张三');\nprint_r($users);\n")])])]),e("h4",{attrs:{id:"array-pop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-pop","aria-hidden":"true"}},[a._v("#")]),a._v(" array_pop")]),a._v(" "),e("p",[a._v("弹出数组最后一个单元（出栈），这是传址操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users =['向军大叔','小明'];\narray_pop($users);\nprint_r($users);\n")])])]),e("h4",{attrs:{id:"array-shift"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-shift","aria-hidden":"true"}},[a._v("#")]),a._v(" array_shift")]),a._v(" "),e("p",[a._v("将数组开头的单元移出数组，这是传址操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users =['向军大叔','小明'];\narray_shift($users);\nprint_r($users);\n")])])]),e("h4",{attrs:{id:"array-unshift"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-unshift","aria-hidden":"true"}},[a._v("#")]),a._v(" array_unshift")]),a._v(" "),e("p",[a._v("在数组开头插入一个或多个单元")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users =['向军大叔','小明'];\narray_unshift($users, '后盾人');\nprint_r($users);\n")])])]),e("h4",{attrs:{id:"count"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#count","aria-hidden":"true"}},[a._v("#")]),a._v(" count")]),a._v(" "),e("p",[a._v("count — 计算数组中的单元数目，或对象中的属性个数")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = ['向军大叔','小明'];\necho count($users);\n")])])]),e("h4",{attrs:{id:"in-array"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#in-array","aria-hidden":"true"}},[a._v("#")]),a._v(" in_array")]),a._v(" "),e("p",[a._v("检查数组中是否存在某个值")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$allowImageType = ['jpeg','jpg','png'];\n$file = 'hdcms.txt';\n$ext = strtolower(substr(strrchr($file, '.'), 1));\nif (!in_array($ext, $allowImageType)) {\n    echo 'is wrong';\n}\n")])])]),e("h4",{attrs:{id:"array-key-exists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-key-exists","aria-hidden":"true"}},[a._v("#")]),a._v(" array_key_exists")]),a._v(" "),e("p",[a._v("检查数组里是否有指定的键名或索引")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$allowImageType = ['jpeg'=>2000000,'jpg'=>2000000,'png'=>2000000];\n$file = 'hdcms.txt';\n$ext = strtolower(substr(strrchr($file, '.'), 1));\nif (!array_key_exists($ext, $allowImageType)) {\n    echo 'is wrong';\n}\n")])])]),e("h4",{attrs:{id:"array-keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-keys","aria-hidden":"true"}},[a._v("#")]),a._v(" array_keys")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$allowImageType = ['jpeg'=>2000000,'jpg'=>2000000,'png'=>2000000];\n$file = 'hdcms.jpg';\n$ext = strtolower(substr(strrchr($file, '.'), 1));\nif (!in_array($ext, array_keys($allowImageType))) {\n    echo 'is wrong';\n}\n")])])]),e("h4",{attrs:{id:"array-filter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-filter","aria-hidden":"true"}},[a._v("#")]),a._v(" array_filter")]),a._v(" "),e("p",[a._v("用回调函数过滤数组中的单元，下面是只获取男生的操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','sex'=>'男','age'=>20],\n    ['name'=>'小丽','sex'=>'女','age'=>33]\n];\n\nprint_r(array_filter($users, function ($user) {\n    return $user['sex']=='男';\n}));\n")])])]),e("h4",{attrs:{id:"array-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-map","aria-hidden":"true"}},[a._v("#")]),a._v(" array_map")]),a._v(" "),e("p",[a._v("为数组的每个元素应用回调函数，下面是删除用户年龄的操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','sex'=>'男','age'=>20],\n    ['name'=>'小丽','sex'=>'女','age'=>33]\n];\n\nprint_r(array_map(function ($user) {\n    unset($user['age']);\n    return $user;\n}, $users));\n")])])]),e("p",[a._v("获取所有会员名称")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$users = [\n    ['name'=>'向军大叔','sex'=>'男','age'=>20],\n    ['name'=>'小丽','sex'=>'女','age'=>33]\n];\n\nprint_r(array_map(function ($user) {\n    return $user['name'];\n}, $users));\n")])])]),e("h4",{attrs:{id:"array-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-values","aria-hidden":"true"}},[a._v("#")]),a._v(" array_values")]),a._v(" "),e("p",[a._v("返回数组中所有的值")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$formats = array_map(function ($user) {\n    return implode('-', array_values($user));\n}, $users);\nprint_r($formats); //输出 Array ( [0] => 向军大叔-男-20 [1] => 小丽-女-33 )\n\n")])])]),e("h4",{attrs:{id:"array-merge"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-merge","aria-hidden":"true"}},[a._v("#")]),a._v(" array_merge")]),a._v(" "),e("p",[a._v("合并一个或多个数组")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$database = [\n    'host'=>'localhost','port'=>3306,'user'=>'root','password'=>''\n];\n\nprint_r(\n    array_merge($database, ['user'=>'hdcms','password'=>'admin888'])\n);\n")])])]),e("h4",{attrs:{id:"array-change-key-case"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-change-key-case","aria-hidden":"true"}},[a._v("#")]),a._v(" array_change_key_case")]),a._v(" "),e("p",[a._v("将数组中的所有键名修改为全大写或小写")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("//键名转大写\nprint_r(array_change_key_case($database, CASE_UPPER));\n\n//键名转小写\nprint_r(array_change_key_case($database, CASE_LOWER));\n")])])]),e("h4",{attrs:{id:"递归改变数组键名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#递归改变数组键名","aria-hidden":"true"}},[a._v("#")]),a._v(" 递归改变数组键名")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com','app'=>[\"hdcms\"]]\n];\n\nfunction hd_array_change_key_case(array $data, int $type=CASE_UPPER):array\n{\n    foreach ($data as $k=>$v):\n        $action = $type ==CASE_UPPER?'strtoupper':'strtolower';\n    \tunset($data[$k]);\n    \t$data[$action($k)] = is_array($v)?hd_array_change_key_case($v, $type):$v;\n    endforeach;\n    return $data;\n}\nprint_r(hd_array_change_key_case($config));\n")])])]),e("h4",{attrs:{id:"递归改变数组值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#递归改变数组值","aria-hidden":"true"}},[a._v("#")]),a._v(" 递归改变数组值")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com','app'=>[\"hdcms\"]]\n];\n\nfunction hd_array_change_value_case(array $data, int $type=CASE_UPPER):array\n{\n    foreach ($data as $k=>$v):\n        $action = $type ==CASE_UPPER?'strtoupper':'strtolower';\n    $data[$k] = is_array($v)?hd_array_change_value_case($v, $type):$action($v);\n    endforeach;\n    return $data;\n}\nprint_r(hd_array_change_value_case($config));\n")])])]),e("h4",{attrs:{id:"array-walk-recursive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#array-walk-recursive","aria-hidden":"true"}},[a._v("#")]),a._v(" array_walk_recursive")]),a._v(" "),e("p",[a._v("对数组中的每个成员递归地应用用户函数，本函数会递归到更深层的数组中去。下面是改变数组键值的操作。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com',['app'=>'hdcms']]\n];\n\nfunction change_array_value(array $data, int $type=CASE_UPPER):array\n{\n    array_walk_recursive($data, function (&$value, $key, $type) {\n        $action = $type==CASE_UPPER?'strtoupper':'strtolower';\n        $value=$action($value);\n    }, $type);\n    return $data;\n}\nprint_r(change_array_value($config));\n")])])]),e("h4",{attrs:{id:"var-export"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#var-export","aria-hidden":"true"}},[a._v("#")]),a._v(" var_export")]),a._v(" "),e("p",[a._v("输出或返回一个变量的字符串表示，第二个参数为 "),e("code",[a._v("TRUE")]),a._v(" 时返回字符串。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com']\n];\n\n//生成合法的PHP代码\n$configContent = \"<?php return \".var_export($config, true).';';\nfile_put_contents('database.php', $configContent);\n")])])]),e("h4",{attrs:{id:"serialize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#serialize","aria-hidden":"true"}},[a._v("#")]),a._v(" serialize")]),a._v(" "),e("p",[a._v("将数组序列化为字符串。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com',['app'=>'hdcms']]\n];\necho serialize($config);\n")])])]),e("h4",{attrs:{id:"unserialize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unserialize","aria-hidden":"true"}},[a._v("#")]),a._v(" unserialize")]),a._v(" "),e("p",[a._v("从已存储的表示中创建 PHP 的值，下面是缓存数据的操作实例。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$config = [\n    'database'=>['host'=>'localhost','port'=>3306,'user'=>'root','password'=>''],\n    'app'=>['name'=>'向军大叔','url'=>'http://houdunren.com',['app'=>'hdcms']]\n];\n\nfunction cache(string $name, array $data=null)\n{\n    $file = 'cache'.DIRECTORY_SEPARATOR.md5($name).'.php';\n    if (is_null($data)) {\n        $content = is_file($file)?file_get_contents($file):null;\n        return unserialize($content)?:null;\n    } else {\n        return file_put_contents($file, serialize($data));\n    }\n}\n\ncache('database', $config);\nvar_dump(cache('database'));\n")])])])])},[],!1,null,null,null);r.default=s.exports}}]);