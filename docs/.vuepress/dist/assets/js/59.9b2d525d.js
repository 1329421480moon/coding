(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{271:function(a,e,r){"use strict";r.r(e);var t=r(0),s=Object(t.a)({},function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"composer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#composer","aria-hidden":"true"}},[a._v("#")]),a._v(" Composer")]),a._v(" "),r("blockquote",[r("p",[a._v("后盾人 www.houdunren.com  作者："),r("a",{attrs:{href:"http://www.aoxiangjun.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("向军大叔"),r("OutboundLink")],1)])]),a._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),r("p",[r("strong",[a._v("windows")])]),a._v(" "),r("p",[a._v("点击链接 "),r("code",[a._v("https://getcomposer.org/Composer-Setup.exe")]),a._v(" 下载，直接安装就可以了。")]),a._v(" "),r("p",[r("strong",[a._v("Mac/Linux")])]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("$ php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\n$ php -r \"if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"\n$ php composer-setup.php\n$ php -r \"unlink('composer-setup.php');\"\n")])])]),r("h2",{attrs:{id:"软件仓库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#软件仓库","aria-hidden":"true"}},[a._v("#")]),a._v(" 软件仓库")]),a._v(" "),r("p",[a._v("使用composer安装软件时是从远程服务器下载的，但国内用户访问国外网站会过慢或不能访问。有些机构将国外的软件同步到了国内服务器。我们将composer下载的服务器指向到这个国内服务器，就可以实现快速下载软件了。")]),a._v(" "),r("h3",{attrs:{id:"国内仓库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#国内仓库","aria-hidden":"true"}},[a._v("#")]),a._v(" 国内仓库")]),a._v(" "),r("p",[a._v("参考网址 "),r("code",[a._v("https://pkg.phpcomposer.com/")]),a._v(" ，命令行执行以下指令完成配置(linux需要使用sudo)")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("composer config -g repo.packagist composer https://packagist.phpcomposer.com\n")])])]),r("h3",{attrs:{id:"国外仓库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#国外仓库","aria-hidden":"true"}},[a._v("#")]),a._v(" 国外仓库")]),a._v(" "),r("p",[a._v("如果国内镜像有问题通过以下方式切换为国外源")]),a._v(" "),r("ol",[r("li",[a._v("修改项目 "),r("code",[a._v("composer.json")]),a._v(" 文件")])]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v('...\n"repositories": {\n    "packagist": {\n        "type": "composer",\n        "url": "https://packagist.org"\n    }\n}\n...\n')])])]),r("ol",{attrs:{start:"2"}},[r("li",[a._v("全局更改")])]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("composer config -g repo.packagist composer https://packagist.org\n")])])]),r("h2",{attrs:{id:"安装扩展包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装扩展包","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装扩展包")]),a._v(" "),r("p",[a._v("PHP 扩展软件包应用商店网址 "),r("code",[a._v("https://packagist.org/")]),a._v(" ，开发中通过在应用商店中搜索需要的软件包进行安装就可以了。")]),a._v(" "),r("p",[a._v("执行以下命令安装 "),r("code",[a._v("https://packagist.org/packages/houdunwang/arr")]),a._v(" 软件包，其他软件包安装方式都是一样操作。安装后参考软件包的 "),r("code",[a._v("Github")]),a._v(" 软件包操作的 "),r("code",[a._v("Readme.md")]),a._v(" 文件或提供的网站使用就可以了。")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("composer require houdunwang/arr\n")])])]),r("h2",{attrs:{id:"本地扩展"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#本地扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" 本地扩展")]),a._v(" "),r("p",[a._v("开发一个本地包的标准流程是  "),r("code",[a._v("开发>git->packagist>使用")]),a._v("  但是我们在进行本地开发时，尤其是为某些产品开发组件时，比如laravel框架等。这样的操作方式非常不方便，我们希望直接在本地开发，并可以正常使用 "),r("code",[a._v("composer")]),a._v(" 功能。")]),a._v(" "),r("h3",{attrs:{id:"创建项目"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建项目","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建项目")]),a._v(" "),r("p",[a._v("首先远行 "),r("code",[a._v("composer init")]),a._v(" 创建composer.json配置文件。")]),a._v(" "),r("p",[a._v("比如我们的文件目录在 "),r("code",[a._v("~/code/houdunwang/arr")])]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v(".\n├── composer.json\n├── src\n│   └── Hd.php\n└── tests\n")])])]),r("p",[a._v("主要是 composer.json 配置文件，内容如下：")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v('{\n  "name": "houdunwang/arr",\n  "description": "array extend module",\n  "license": "MIT",\n  "authors": [\n    {\n      "name": "houdunren",\n      "email": "2300071698@qq.com"\n    }\n  ],\n  "autoload": {\n    "psr-4": {\n      "Houdunwang\\\\arr\\\\": "src/"\n    }\n  }\n}\n')])])]),r("blockquote",[r("p",[a._v("根据自己的需要自行修改文件内容，比如 "),r("code",[a._v("require")]),a._v(" 其他的包")])]),a._v(" "),r("h3",{attrs:{id:"配置扩展包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置扩展包","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置扩展包")]),a._v(" "),r("p",[a._v("在 "),r("code",[a._v("hdphp")]),a._v(" 或 "),r("code",[a._v("laravel")]),a._v(" 其实是任何composer项目的根目录下执行：")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("composer config repositories.arr path ~/code/houdunwang/arr\n")])])]),r("p",[a._v("这样就将包 "),r("code",[a._v("arr")]),a._v(" 软链接到 "),r("code",[a._v("~/code/houdunwang/arr")]),a._v(" 。修改 "),r("code",[a._v("~/code/houdunwang/arr")]),a._v(" 目录下的文件，将影响到 "),r("code",[a._v("vendor/houdunwang/arr")]),a._v("。")]),a._v(" "),r("p",[a._v("这里观察 "),r("code",[a._v("laravel")]),a._v(" 等 composer 项目根目录下的 "),r("code",[a._v("composer.json")]),a._v(" 会多一段内容：")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v('...\n"repositories": {\n\t"arr": {\n\t\t"type": "path",\n\t\t"url": "/Users/xj/code/houdunwang/arr"\n\t}\n}\n...\n')])])]),r("blockquote",[r("p",[a._v("表示使用我们本地的 composer 包，而非 packagist 下载的包")])]),a._v(" "),r("h3",{attrs:{id:"安装本地包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装本地包","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装本地包")]),a._v(" "),r("p",[a._v("安装本地包与远程包没有什么区别。")]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("composer require houdunwang/arr:dev-master\n")])])]),r("p",[a._v("至些我们已经完成了，直接在 houdunwang/arr 目录中开发就可以了，而非 "),r("code",[a._v("vendor/houdunwang/module")]),a._v(" 目录。")])])},[],!1,null,null,null);e.default=s.exports}}]);